{{ define "main" }}
{{- $postType := .Type | lower | singularize -}}
<article class="{{ partial "post-class.html" . }}" role="document"{{ with .Params.lang }} lang="{{ . }}"{{ end }}>
    <header>
        <h1 class="text-title">
            {{ .Params.pageTitle | default .Title }}
        </h1>
        <p class="byline">
            {{ partial "post-meta/date.html" . }}
        </p>
    </header>

    {{- with .Params.categories }}
    <div class="post-categories">
        {{- if gt (len .) 1 }}Categories: {{ else }}Category: {{ end -}}
        {{- range $i, $cat := . -}}
            {{- if $i }}, {{ end -}}
            <a href="/categories/{{ $cat | urlize }}/">{{ $cat }}</a>
        {{- end -}}
    </div>
    {{- end }}

    {{- if .Params.Tags }}
    <div class="post-tags-header">
        {{ partial "post-tags.html" . }}
    </div>
    {{- end }}

    <div class="{{ $postType }}-body">
        {{ .Content }}
    </div>
</article>
{{ end }}
